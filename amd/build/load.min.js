define ("block_evokefeed/load",["core/ajax"],function(a){var b=function(){var b=document.querySelector(".block-evokefeed");b.addEventListener("scroll",function(b){var c=b.target.scrollTop,d=b.target.scrollHeight,e=b.target.offsetHeight,f=b.target.dataset.courseid,g=b.target.dataset.limitcomments,h=b.target.dataset.limitlikes,i=b.target.dataset.limitskilpoints,j=b.target.dataset.limitevocoins,k=b.target.dataset.limitbadges,l="true"===b.target.dataset.hasmoreitems;if(c+e>d-5){if(!l){return}var m=a.call([{methodname:"block_evokefeed_load",args:{courseid:f,limitcomments:g,limitlikes:h,limitskilpoints:i,limitevocoins:j,limitbadges:k,hasmoreitems:l}}]);m[0].done(function(a){var c=JSON.parse(a.data);b.target.dataset.limitcomments=c.limitcomments;b.target.dataset.limitlikes=c.limitlikes;b.target.dataset.limitskilpoints=c.limitskilpoints;b.target.dataset.limitevocoins=c.limitevocoins;b.target.dataset.limitbadges=c.limitbadges;b.target.dataset.hasmoreitems=c.hasmoreitems;var d=document.querySelector(".block-evokefeed .list-group");c.items.forEach(function(a){var b=document.createElement("a");b.className="list-group-item list-group-item-action fadein";b.href=a.url;b.innerHTML="<i class=\"fa "+a.icon+"\"></i> "+a.text;d.appendChild(b)})}.bind(this))}},!1)};return{init:function init(){return new b}}});
//# sourceMappingURL=load.min.js.map
